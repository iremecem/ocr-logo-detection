{"ast":null,"code":"import React, { Component } from 'react';\nimport { ObjectUtils, classNames } from 'primereact/core';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar VirtualScroller = /*#__PURE__*/function (_Component) {\n  _inherits(VirtualScroller, _Component);\n\n  var _super = _createSuper(VirtualScroller);\n\n  function VirtualScroller(props) {\n    var _this;\n\n    _classCallCheck(this, VirtualScroller);\n\n    _this = _super.call(this, props);\n\n    var isBoth = _this.isBoth();\n\n    _this.state = {\n      first: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      last: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numItemsInViewport: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numToleratedItems: props.numToleratedItems,\n      loading: false\n    };\n    _this.onScroll = _this.onScroll.bind(_assertThisInitialized(_this));\n    _this.lastScrollPos = isBoth ? {\n      top: 0,\n      left: 0\n    } : 0;\n    return _this;\n  }\n\n  _createClass(VirtualScroller, [{\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      this.element && this.element.scrollTo(options);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var _this2 = this;\n\n      var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n      var itemSize = this.props.itemSize;\n      var contentPadding = this.getContentPadding();\n\n      var calculateFirst = function calculateFirst() {\n        var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        return _index <= _this2.state.numToleratedItems ? 0 : _index;\n      };\n\n      var calculateCoord = function calculateCoord(_first, _size, _padding) {\n        return _first * _size + _padding;\n      };\n\n      var scrollTo = function scrollTo() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return _this2.scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      if (isBoth) {\n        var newFirst = {\n          rows: calculateFirst(index[0]),\n          cols: calculateFirst(index[1])\n        };\n        (newFirst.rows !== first.rows || newFirst.cols !== first.cols) && scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPadding.left), calculateCoord(newFirst.rows, itemSize[0], contentPadding.top));\n      } else {\n        var _newFirst = calculateFirst(index);\n\n        if (_newFirst !== first) {\n          isHorizontal ? scrollTo(calculateCoord(_newFirst, itemSize, contentPadding.left), 0) : scrollTo(0, calculateCoord(_newFirst, itemSize, contentPadding.top));\n        }\n      }\n    }\n  }, {\n    key: \"scrollInView\",\n    value: function scrollInView(index, to) {\n      var _this3 = this;\n\n      var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n      if (to) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        var _this$getRenderedRang = this.getRenderedRange(),\n            first = _this$getRenderedRang.first,\n            viewport = _this$getRenderedRang.viewport;\n\n        var itemSize = this.props.itemSize;\n\n        var scrollTo = function scrollTo() {\n          var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return _this3.scrollTo({\n            left: left,\n            top: top,\n            behavior: behavior\n          });\n        };\n\n        var isToStart = to === 'to-start';\n        var isToEnd = to === 'to-end';\n\n        if (isToStart) {\n          if (isBoth) {\n            if (viewport.first.rows - first.rows > index[0]) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows - 1) * itemSize);\n            } else if (viewport.first.cols - first.cols > index[1]) {\n              scrollTo((viewport.first.cols - 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.first - first > index) {\n              var pos = (viewport.first - 1) * itemSize;\n              isHorizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        } else if (isToEnd) {\n          if (isBoth) {\n            if (viewport.last.rows - first.rows <= index[0] + 1) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows + 1) * itemSize);\n            } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n              scrollTo((viewport.first.cols + 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.last - first <= index + 1) {\n              var _pos2 = (viewport.first + 1) * itemSize;\n\n              isHorizontal ? scrollTo(_pos2, 0) : scrollTo(0, _pos2);\n            }\n          }\n        }\n      } else {\n        this.scrollToIndex(index, behavior);\n      }\n    }\n  }, {\n    key: \"getRenderedRange\",\n    value: function getRenderedRange() {\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state = this.state,\n          first = _this$state.first,\n          last = _this$state.last,\n          numItemsInViewport = _this$state.numItemsInViewport;\n      var itemSize = this.props.itemSize;\n\n      var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var firstInViewport = first;\n      var lastInViewport = 0;\n\n      if (this.element) {\n        var scrollTop = this.element.scrollTop;\n        var scrollLeft = this.element.scrollLeft;\n\n        if (isBoth) {\n          firstInViewport = {\n            rows: calculateFirstInViewport(scrollTop, itemSize[0]),\n            cols: calculateFirstInViewport(scrollLeft, itemSize[1])\n          };\n          lastInViewport = {\n            rows: firstInViewport.rows + numItemsInViewport.rows,\n            cols: firstInViewport.cols + numItemsInViewport.cols\n          };\n        } else {\n          var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n          firstInViewport = calculateFirstInViewport(scrollPos, itemSize);\n          lastInViewport = firstInViewport + numItemsInViewport;\n        }\n      }\n\n      return {\n        first: first,\n        last: last,\n        viewport: {\n          first: firstInViewport,\n          last: lastInViewport\n        }\n      };\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.props.orientation === 'horizontal';\n    }\n  }, {\n    key: \"isBoth\",\n    value: function isBoth() {\n      return this.props.orientation === 'both';\n    }\n  }, {\n    key: \"calculateOptions\",\n    value: function calculateOptions() {\n      var _this4 = this;\n\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n      var itemSize = this.props.itemSize;\n      var contentPadding = this.getContentPadding();\n      var contentWidth = this.element ? this.element.offsetWidth - contentPadding.left : 0;\n      var contentHeight = this.element ? this.element.offsetHeight - contentPadding.top : 0;\n\n      var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n        return Math.ceil(_contentSize / (_itemSize || _contentSize));\n      };\n\n      var numItemsInViewport = isBoth ? {\n        rows: calculateNumItemsInViewport(contentHeight, itemSize[0]),\n        cols: calculateNumItemsInViewport(contentWidth, itemSize[1])\n      } : calculateNumItemsInViewport(isHorizontal ? contentWidth : contentHeight, itemSize);\n      var numToleratedItems = this.state.numToleratedItems || Math.ceil((isBoth ? numItemsInViewport.rows : numItemsInViewport) / 2);\n\n      var calculateLast = function calculateLast(_first, _num, _isCols) {\n        return _this4.getLast(_first + _num + (_first < numToleratedItems ? 2 : 3) * numToleratedItems, _isCols);\n      };\n\n      var last = isBoth ? {\n        rows: calculateLast(first.rows, numItemsInViewport.rows),\n        cols: calculateLast(first.cols, numItemsInViewport.cols, true)\n      } : calculateLast(first, numItemsInViewport);\n      var state = {\n        numItemsInViewport: numItemsInViewport,\n        last: last,\n        numToleratedItems: numToleratedItems\n      };\n\n      if (this.props.showLoader) {\n        state['loaderArr'] = Array.from({\n          length: isBoth ? numItemsInViewport.rows : numItemsInViewport\n        });\n      }\n\n      this.setState(state, function () {\n        if (_this4.props.lazy) {\n          _this4.props.onLazyLoad && _this4.props.onLazyLoad({\n            first: _this4.state.first,\n            last: _this4.state.last\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getLast\",\n    value: function getLast(last, isCols) {\n      return this.props.items ? Math.min(isCols ? this.props.items[0].length : this.props.items.length, last) : 0;\n    }\n  }, {\n    key: \"getContentPadding\",\n    value: function getContentPadding() {\n      if (this.content) {\n        var style = getComputedStyle(this.content);\n        var left = parseInt(style.paddingLeft, 10);\n        var right = parseInt(style.paddingRight, 10);\n        var top = parseInt(style.paddingTop, 10);\n        var bottom = parseInt(style.paddingBottom, 10);\n        return {\n          left: left,\n          right: right,\n          top: top,\n          bottom: bottom,\n          x: left + right,\n          y: top + bottom\n        };\n      }\n\n      return {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        x: 0,\n        y: 0\n      };\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize() {\n      var _this5 = this;\n\n      if (this.element) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var parentElement = this.element.parentElement;\n        var width = this.props.scrollWidth || \"\".concat(this.element.offsetWidth || parentElement.offsetWidth, \"px\");\n        var height = this.props.scrollHeight || \"\".concat(this.element.offsetHeight || parentElement.offsetHeight, \"px\");\n\n        var setProp = function setProp(_name, _value) {\n          return _this5.element.style[_name] = _value;\n        };\n\n        if (isBoth) {\n          setProp('height', height);\n          setProp('width', width);\n        } else {\n          isHorizontal ? setProp('width', width) : setProp('height', height);\n        }\n      }\n    }\n  }, {\n    key: \"setSpacerSize\",\n    value: function setSpacerSize() {\n      var _this6 = this;\n\n      var items = this.props.items;\n\n      if (this.spacer && items) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var itemSize = this.props.itemSize;\n        var contentPadding = this.getContentPadding();\n\n        var setProp = function setProp(_name, _value, _size) {\n          var _padding = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n          return _this6.spacer.style[_name] = (_value || []).length * _size + _padding + 'px';\n        };\n\n        if (isBoth) {\n          setProp('height', items[0], itemSize[0], contentPadding.y);\n          setProp('width', items[1], itemSize[1], contentPadding.x);\n        } else {\n          isHorizontal ? setProp('width', items, itemSize, contentPadding.x) : setProp('height', items, itemSize, contentPadding.y);\n        }\n      }\n    }\n  }, {\n    key: \"setContentPosition\",\n    value: function setContentPosition(pos) {\n      var _this7 = this;\n\n      if (this.content) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var first = pos ? pos.first : this.state.first;\n        var itemSize = this.props.itemSize;\n\n        var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n          return _first * _size;\n        };\n\n        var setTransform = function setTransform() {\n          var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n          var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n          return _this7.content.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\n        };\n\n        if (isBoth) {\n          setTransform(calculateTranslateVal(first.cols, itemSize[1]), calculateTranslateVal(first.rows, itemSize[0]));\n        } else {\n          var translateVal = calculateTranslateVal(first, itemSize);\n          isHorizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n        }\n      }\n    }\n  }, {\n    key: \"onScrollPositionChange\",\n    value: function onScrollPositionChange(event) {\n      var _this8 = this;\n\n      var target = event.target;\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state2 = this.state,\n          first = _this$state2.first,\n          last = _this$state2.last,\n          numItemsInViewport = _this$state2.numItemsInViewport,\n          numToleratedItems = _this$state2.numToleratedItems;\n      var itemSize = this.props.itemSize;\n      var contentPadding = this.getContentPadding();\n\n      var calculateScrollPos = function calculateScrollPos(_pos, _padding) {\n        return _pos ? _pos > _padding ? _pos - _padding : _pos : 0;\n      };\n\n      var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _isScrollDownOrRight) {\n        return _currentIndex <= numToleratedItems ? numToleratedItems : _isScrollDownOrRight ? _last - _num - numToleratedItems : _first + numToleratedItems - 1;\n      };\n\n      var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _isScrollDownOrRight) {\n        if (_currentIndex <= numToleratedItems) return 0;else return _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - numToleratedItems : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * numToleratedItems;\n      };\n\n      var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _isCols) {\n        var lastValue = _first + _num + 2 * numToleratedItems;\n\n        if (_currentIndex >= numToleratedItems) {\n          lastValue += numToleratedItems + 1;\n        }\n\n        return _this8.getLast(lastValue, _isCols);\n      };\n\n      var scrollTop = calculateScrollPos(target.scrollTop, contentPadding.top);\n      var scrollLeft = calculateScrollPos(target.scrollLeft, contentPadding.left);\n      var newFirst = 0;\n      var newLast = last;\n      var isRangeChanged = false;\n\n      if (isBoth) {\n        var isScrollDown = this.lastScrollPos.top <= scrollTop;\n        var isScrollRight = this.lastScrollPos.left <= scrollLeft;\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, first.rows, last.rows, numItemsInViewport.rows, isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, first.cols, last.cols, numItemsInViewport.cols, isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, first.rows, last.rows, numItemsInViewport.rows, isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, first.cols, last.cols, numItemsInViewport.cols, isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, last.rows, numItemsInViewport.rows),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, last.cols, numItemsInViewport.cols, true)\n        };\n        isRangeChanged = newFirst.rows !== first.rows || newFirst.cols !== first.cols || newLast.rows !== last.rows || newLast.cols !== last.cols;\n        this.lastScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      } else {\n        var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n        var isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, itemSize);\n\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, first, last, numItemsInViewport, isScrollDownOrRight);\n\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, first, last, numItemsInViewport, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, last, numItemsInViewport);\n        isRangeChanged = newFirst !== first || newLast !== last;\n        this.lastScrollPos = scrollPos;\n      }\n\n      return {\n        first: newFirst,\n        last: newLast,\n        isRangeChanged: isRangeChanged\n      };\n    }\n  }, {\n    key: \"onScrollChange\",\n    value: function onScrollChange(event) {\n      var _this9 = this;\n\n      var _this$onScrollPositio = this.onScrollPositionChange(event),\n          first = _this$onScrollPositio.first,\n          last = _this$onScrollPositio.last,\n          isRangeChanged = _this$onScrollPositio.isRangeChanged;\n\n      if (isRangeChanged) {\n        var newState = {\n          first: first,\n          last: last\n        };\n        this.setContentPosition(newState);\n\n        if (this.props.lazy) {\n          this.props.onLazyLoad && this.props.onLazyLoad(newState);\n        }\n\n        this.setState(newState, function () {\n          _this9.props.onScrollIndexChange && _this9.props.onScrollIndexChange(newState);\n        });\n      }\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll(event) {\n      var _this10 = this;\n\n      this.props.onScroll && this.props.onScroll(event);\n\n      if (this.props.delay) {\n        if (this.scrollTimeout) {\n          clearTimeout(this.scrollTimeout);\n        }\n\n        if (!this.state.loading && this.props.showLoader) {\n          var _this$onScrollPositio2 = this.onScrollPositionChange(event),\n              changed = _this$onScrollPositio2.isRangeChanged;\n\n          changed && this.setState({\n            loading: true\n          });\n        }\n\n        this.scrollTimeout = setTimeout(function () {\n          _this10.onScrollChange(event);\n\n          if (_this10.state.loading && _this10.props.showLoader && !_this10.props.lazy) {\n            _this10.setState({\n              loading: false\n            });\n          }\n        }, this.props.delay);\n      } else {\n        this.onScrollChange(event);\n      }\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions(index, count) {\n      return {\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      };\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.setSize();\n      this.calculateOptions();\n      this.setSpacerSize();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.itemSize !== this.props.itemSize || !prevProps.items || prevProps.items.length !== (this.props.items || []).length) {\n        this.init();\n      }\n\n      if (this.props.lazy && prevProps.loading !== this.props.loading && this.state.loading !== this.props.loading) {\n        this.setState({\n          loading: this.props.loading\n        });\n      }\n\n      if (prevProps.orientation !== this.props.orientation) {\n        this.lastScrollPos = this.isBoth() ? {\n          top: 0,\n          left: 0\n        } : 0;\n      }\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item, index, count, passedItem) {\n      var options = this.getOptions(index, count);\n      var content = ObjectUtils.getJSXElement(this.props.itemTemplate, passedItem || item, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, content);\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this11 = this;\n\n      var items = this.props.items;\n\n      if (items && !this.state.loading) {\n        var isBoth = this.isBoth();\n        var _this$state3 = this.state,\n            first = _this$state3.first,\n            last = _this$state3.last;\n        var count = items.length;\n\n        if (isBoth) {\n          return items.slice(first.rows, last.rows).map(function (item, i) {\n            var items = item.slice(first.cols, last.cols);\n            var index = first.rows + i;\n            return _this11.renderItem(item, index, count, items);\n          });\n        } else {\n          return items.slice(first, last).map(function (item, i) {\n            var index = first + i;\n            return _this11.renderItem(item, index, count);\n          });\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderLoaderItem\",\n    value: function renderLoaderItem(index, count, extOptions) {\n      var options = _objectSpread(_objectSpread({}, this.getOptions(index, count)), extOptions || {});\n\n      var content = ObjectUtils.getJSXElement(this.props.loadingTemplate, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, content);\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var _this12 = this;\n\n      if (this.state.loading) {\n        var className = classNames('p-virtualscroller-loader', {\n          'p-component-overlay': !this.props.loadingTemplate\n        });\n        var content = /*#__PURE__*/React.createElement(\"i\", {\n          className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n        });\n\n        if (this.props.loadingTemplate) {\n          var isBoth = this.isBoth();\n          var numItemsInViewport = this.state.numItemsInViewport;\n          var length = isBoth ? numItemsInViewport.rows : numItemsInViewport;\n          content = this.state.loaderArr.map(function (_, index) {\n            return _this12.renderLoaderItem(index, length, isBoth && {\n              numCols: numItemsInViewport.cols\n            });\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: className\n        }, content);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this13 = this;\n\n      var items = this.renderItems();\n      var content = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-virtualscroller-content\",\n        ref: function ref(el) {\n          return _this13.content = el;\n        }\n      }, items);\n\n      if (this.props.contentTemplate) {\n        var _this$state4 = this.state,\n            loading = _this$state4.loading,\n            first = _this$state4.first,\n            last = _this$state4.last;\n        var defaultOptions = {\n          className: 'p-virtualscroller-content',\n          ref: function ref(el) {\n            return _this13.content = el;\n          },\n          children: items,\n          element: content,\n          props: this.props,\n          loading: loading,\n          first: first,\n          last: last\n        };\n        return ObjectUtils.getJSXElement(this.props.contentTemplate, defaultOptions);\n      }\n\n      return content;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this14 = this;\n\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var className = classNames('p-virtualscroller', {\n        'p-both-scroll': isBoth,\n        'p-horizontal-scroll': isHorizontal\n      }, this.props.className);\n      var loader = this.renderLoader();\n      var content = this.renderContent();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(el) {\n          return _this14.element = el;\n        },\n        className: className,\n        tabIndex: 0,\n        style: this.props.style,\n        onScroll: this.onScroll\n      }, content, /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(el) {\n          return _this14.spacer = el;\n        },\n        className: \"p-virtualscroller-spacer\"\n      }), loader);\n    }\n  }]);\n\n  return VirtualScroller;\n}(Component);\n\n_defineProperty(VirtualScroller, \"defaultProps\", {\n  id: null,\n  style: null,\n  className: null,\n  items: null,\n  itemSize: 0,\n  scrollHeight: null,\n  scrollWidth: null,\n  orientation: 'vertical',\n  numToleratedItems: null,\n  delay: 0,\n  lazy: false,\n  showLoader: false,\n  loadingTemplate: null,\n  itemTemplate: null,\n  contentTemplate: null,\n  onScroll: null,\n  onScrollIndexChange: null,\n  onLazyLoad: null\n});\n\nexport { VirtualScroller };","map":{"version":3,"sources":["/Users/ecem/Documents/INTERNSHIP/2021 SUMMER/JOTFORM/ocr-logo-detection/frontend/node_modules/primereact/virtualscroller/virtualscroller.esm.js"],"names":["React","Component","ObjectUtils","classNames","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","value","_typeof","obj","Symbol","iterator","_possibleConstructorReturn","call","_getPrototypeOf","getPrototypeOf","_defineProperty","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","Reflect","construct","sham","Proxy","Boolean","valueOf","e","VirtualScroller","_Component","_super","_this","isBoth","state","first","rows","cols","last","numItemsInViewport","numToleratedItems","loading","onScroll","bind","lastScrollPos","top","left","scrollTo","options","element","scrollToIndex","index","_this2","behavior","undefined","isHorizontal","itemSize","contentPadding","getContentPadding","calculateFirst","_index","calculateCoord","_first","_size","_padding","newFirst","_newFirst","scrollInView","to","_this3","_this$getRenderedRang","getRenderedRange","viewport","isToStart","isToEnd","pos","_pos2","_this$state","calculateFirstInViewport","_pos","Math","floor","firstInViewport","lastInViewport","scrollTop","scrollLeft","scrollPos","orientation","calculateOptions","_this4","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateLast","_num","_isCols","getLast","showLoader","Array","from","setState","lazy","onLazyLoad","isCols","items","min","content","style","getComputedStyle","parseInt","paddingLeft","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","setSize","_this5","parentElement","width","scrollWidth","concat","height","scrollHeight","setProp","_name","_value","setSpacerSize","_this6","spacer","setContentPosition","_this7","calculateTranslateVal","setTransform","_x","_y","transform","translateVal","onScrollPositionChange","event","_this8","_this$state2","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","isRangeChanged","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","_currentIndex2","_triggerIndex2","onScrollChange","_this9","_this$onScrollPositio","newState","onScrollIndexChange","_this10","delay","scrollTimeout","clearTimeout","_this$onScrollPositio2","changed","setTimeout","getOptions","count","even","odd","init","componentDidMount","componentDidUpdate","prevProps","prevState","renderItem","item","passedItem","getJSXElement","itemTemplate","createElement","Fragment","renderItems","_this11","_this$state3","slice","map","renderLoaderItem","extOptions","loadingTemplate","renderLoader","_this12","className","loaderArr","_","numCols","renderContent","_this13","ref","el","contentTemplate","_this$state4","defaultOptions","children","render","_this14","loader","tabIndex","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ObjectUtils, classNames } from 'primereact/core';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VirtualScroller = /*#__PURE__*/function (_Component) {\n  _inherits(VirtualScroller, _Component);\n\n  var _super = _createSuper(VirtualScroller);\n\n  function VirtualScroller(props) {\n    var _this;\n\n    _classCallCheck(this, VirtualScroller);\n\n    _this = _super.call(this, props);\n\n    var isBoth = _this.isBoth();\n\n    _this.state = {\n      first: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      last: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numItemsInViewport: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numToleratedItems: props.numToleratedItems,\n      loading: false\n    };\n    _this.onScroll = _this.onScroll.bind(_assertThisInitialized(_this));\n    _this.lastScrollPos = isBoth ? {\n      top: 0,\n      left: 0\n    } : 0;\n    return _this;\n  }\n\n  _createClass(VirtualScroller, [{\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      this.element && this.element.scrollTo(options);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var _this2 = this;\n\n      var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n      var itemSize = this.props.itemSize;\n      var contentPadding = this.getContentPadding();\n\n      var calculateFirst = function calculateFirst() {\n        var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        return _index <= _this2.state.numToleratedItems ? 0 : _index;\n      };\n\n      var calculateCoord = function calculateCoord(_first, _size, _padding) {\n        return _first * _size + _padding;\n      };\n\n      var scrollTo = function scrollTo() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return _this2.scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      if (isBoth) {\n        var newFirst = {\n          rows: calculateFirst(index[0]),\n          cols: calculateFirst(index[1])\n        };\n        (newFirst.rows !== first.rows || newFirst.cols !== first.cols) && scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPadding.left), calculateCoord(newFirst.rows, itemSize[0], contentPadding.top));\n      } else {\n        var _newFirst = calculateFirst(index);\n\n        if (_newFirst !== first) {\n          isHorizontal ? scrollTo(calculateCoord(_newFirst, itemSize, contentPadding.left), 0) : scrollTo(0, calculateCoord(_newFirst, itemSize, contentPadding.top));\n        }\n      }\n    }\n  }, {\n    key: \"scrollInView\",\n    value: function scrollInView(index, to) {\n      var _this3 = this;\n\n      var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n      if (to) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        var _this$getRenderedRang = this.getRenderedRange(),\n            first = _this$getRenderedRang.first,\n            viewport = _this$getRenderedRang.viewport;\n\n        var itemSize = this.props.itemSize;\n\n        var scrollTo = function scrollTo() {\n          var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return _this3.scrollTo({\n            left: left,\n            top: top,\n            behavior: behavior\n          });\n        };\n\n        var isToStart = to === 'to-start';\n        var isToEnd = to === 'to-end';\n\n        if (isToStart) {\n          if (isBoth) {\n            if (viewport.first.rows - first.rows > index[0]) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows - 1) * itemSize);\n            } else if (viewport.first.cols - first.cols > index[1]) {\n              scrollTo((viewport.first.cols - 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.first - first > index) {\n              var pos = (viewport.first - 1) * itemSize;\n              isHorizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        } else if (isToEnd) {\n          if (isBoth) {\n            if (viewport.last.rows - first.rows <= index[0] + 1) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows + 1) * itemSize);\n            } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n              scrollTo((viewport.first.cols + 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.last - first <= index + 1) {\n              var _pos2 = (viewport.first + 1) * itemSize;\n\n              isHorizontal ? scrollTo(_pos2, 0) : scrollTo(0, _pos2);\n            }\n          }\n        }\n      } else {\n        this.scrollToIndex(index, behavior);\n      }\n    }\n  }, {\n    key: \"getRenderedRange\",\n    value: function getRenderedRange() {\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state = this.state,\n          first = _this$state.first,\n          last = _this$state.last,\n          numItemsInViewport = _this$state.numItemsInViewport;\n      var itemSize = this.props.itemSize;\n\n      var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var firstInViewport = first;\n      var lastInViewport = 0;\n\n      if (this.element) {\n        var scrollTop = this.element.scrollTop;\n        var scrollLeft = this.element.scrollLeft;\n\n        if (isBoth) {\n          firstInViewport = {\n            rows: calculateFirstInViewport(scrollTop, itemSize[0]),\n            cols: calculateFirstInViewport(scrollLeft, itemSize[1])\n          };\n          lastInViewport = {\n            rows: firstInViewport.rows + numItemsInViewport.rows,\n            cols: firstInViewport.cols + numItemsInViewport.cols\n          };\n        } else {\n          var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n          firstInViewport = calculateFirstInViewport(scrollPos, itemSize);\n          lastInViewport = firstInViewport + numItemsInViewport;\n        }\n      }\n\n      return {\n        first: first,\n        last: last,\n        viewport: {\n          first: firstInViewport,\n          last: lastInViewport\n        }\n      };\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.props.orientation === 'horizontal';\n    }\n  }, {\n    key: \"isBoth\",\n    value: function isBoth() {\n      return this.props.orientation === 'both';\n    }\n  }, {\n    key: \"calculateOptions\",\n    value: function calculateOptions() {\n      var _this4 = this;\n\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n      var itemSize = this.props.itemSize;\n      var contentPadding = this.getContentPadding();\n      var contentWidth = this.element ? this.element.offsetWidth - contentPadding.left : 0;\n      var contentHeight = this.element ? this.element.offsetHeight - contentPadding.top : 0;\n\n      var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n        return Math.ceil(_contentSize / (_itemSize || _contentSize));\n      };\n\n      var numItemsInViewport = isBoth ? {\n        rows: calculateNumItemsInViewport(contentHeight, itemSize[0]),\n        cols: calculateNumItemsInViewport(contentWidth, itemSize[1])\n      } : calculateNumItemsInViewport(isHorizontal ? contentWidth : contentHeight, itemSize);\n      var numToleratedItems = this.state.numToleratedItems || Math.ceil((isBoth ? numItemsInViewport.rows : numItemsInViewport) / 2);\n\n      var calculateLast = function calculateLast(_first, _num, _isCols) {\n        return _this4.getLast(_first + _num + (_first < numToleratedItems ? 2 : 3) * numToleratedItems, _isCols);\n      };\n\n      var last = isBoth ? {\n        rows: calculateLast(first.rows, numItemsInViewport.rows),\n        cols: calculateLast(first.cols, numItemsInViewport.cols, true)\n      } : calculateLast(first, numItemsInViewport);\n      var state = {\n        numItemsInViewport: numItemsInViewport,\n        last: last,\n        numToleratedItems: numToleratedItems\n      };\n\n      if (this.props.showLoader) {\n        state['loaderArr'] = Array.from({\n          length: isBoth ? numItemsInViewport.rows : numItemsInViewport\n        });\n      }\n\n      this.setState(state, function () {\n        if (_this4.props.lazy) {\n          _this4.props.onLazyLoad && _this4.props.onLazyLoad({\n            first: _this4.state.first,\n            last: _this4.state.last\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getLast\",\n    value: function getLast(last, isCols) {\n      return this.props.items ? Math.min(isCols ? this.props.items[0].length : this.props.items.length, last) : 0;\n    }\n  }, {\n    key: \"getContentPadding\",\n    value: function getContentPadding() {\n      if (this.content) {\n        var style = getComputedStyle(this.content);\n        var left = parseInt(style.paddingLeft, 10);\n        var right = parseInt(style.paddingRight, 10);\n        var top = parseInt(style.paddingTop, 10);\n        var bottom = parseInt(style.paddingBottom, 10);\n        return {\n          left: left,\n          right: right,\n          top: top,\n          bottom: bottom,\n          x: left + right,\n          y: top + bottom\n        };\n      }\n\n      return {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        x: 0,\n        y: 0\n      };\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize() {\n      var _this5 = this;\n\n      if (this.element) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var parentElement = this.element.parentElement;\n        var width = this.props.scrollWidth || \"\".concat(this.element.offsetWidth || parentElement.offsetWidth, \"px\");\n        var height = this.props.scrollHeight || \"\".concat(this.element.offsetHeight || parentElement.offsetHeight, \"px\");\n\n        var setProp = function setProp(_name, _value) {\n          return _this5.element.style[_name] = _value;\n        };\n\n        if (isBoth) {\n          setProp('height', height);\n          setProp('width', width);\n        } else {\n          isHorizontal ? setProp('width', width) : setProp('height', height);\n        }\n      }\n    }\n  }, {\n    key: \"setSpacerSize\",\n    value: function setSpacerSize() {\n      var _this6 = this;\n\n      var items = this.props.items;\n\n      if (this.spacer && items) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var itemSize = this.props.itemSize;\n        var contentPadding = this.getContentPadding();\n\n        var setProp = function setProp(_name, _value, _size) {\n          var _padding = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n          return _this6.spacer.style[_name] = (_value || []).length * _size + _padding + 'px';\n        };\n\n        if (isBoth) {\n          setProp('height', items[0], itemSize[0], contentPadding.y);\n          setProp('width', items[1], itemSize[1], contentPadding.x);\n        } else {\n          isHorizontal ? setProp('width', items, itemSize, contentPadding.x) : setProp('height', items, itemSize, contentPadding.y);\n        }\n      }\n    }\n  }, {\n    key: \"setContentPosition\",\n    value: function setContentPosition(pos) {\n      var _this7 = this;\n\n      if (this.content) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var first = pos ? pos.first : this.state.first;\n        var itemSize = this.props.itemSize;\n\n        var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n          return _first * _size;\n        };\n\n        var setTransform = function setTransform() {\n          var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n          var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n          return _this7.content.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\n        };\n\n        if (isBoth) {\n          setTransform(calculateTranslateVal(first.cols, itemSize[1]), calculateTranslateVal(first.rows, itemSize[0]));\n        } else {\n          var translateVal = calculateTranslateVal(first, itemSize);\n          isHorizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n        }\n      }\n    }\n  }, {\n    key: \"onScrollPositionChange\",\n    value: function onScrollPositionChange(event) {\n      var _this8 = this;\n\n      var target = event.target;\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state2 = this.state,\n          first = _this$state2.first,\n          last = _this$state2.last,\n          numItemsInViewport = _this$state2.numItemsInViewport,\n          numToleratedItems = _this$state2.numToleratedItems;\n      var itemSize = this.props.itemSize;\n      var contentPadding = this.getContentPadding();\n\n      var calculateScrollPos = function calculateScrollPos(_pos, _padding) {\n        return _pos ? _pos > _padding ? _pos - _padding : _pos : 0;\n      };\n\n      var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _isScrollDownOrRight) {\n        return _currentIndex <= numToleratedItems ? numToleratedItems : _isScrollDownOrRight ? _last - _num - numToleratedItems : _first + numToleratedItems - 1;\n      };\n\n      var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _isScrollDownOrRight) {\n        if (_currentIndex <= numToleratedItems) return 0;else return _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - numToleratedItems : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * numToleratedItems;\n      };\n\n      var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _isCols) {\n        var lastValue = _first + _num + 2 * numToleratedItems;\n\n        if (_currentIndex >= numToleratedItems) {\n          lastValue += numToleratedItems + 1;\n        }\n\n        return _this8.getLast(lastValue, _isCols);\n      };\n\n      var scrollTop = calculateScrollPos(target.scrollTop, contentPadding.top);\n      var scrollLeft = calculateScrollPos(target.scrollLeft, contentPadding.left);\n      var newFirst = 0;\n      var newLast = last;\n      var isRangeChanged = false;\n\n      if (isBoth) {\n        var isScrollDown = this.lastScrollPos.top <= scrollTop;\n        var isScrollRight = this.lastScrollPos.left <= scrollLeft;\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, first.rows, last.rows, numItemsInViewport.rows, isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, first.cols, last.cols, numItemsInViewport.cols, isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, first.rows, last.rows, numItemsInViewport.rows, isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, first.cols, last.cols, numItemsInViewport.cols, isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, last.rows, numItemsInViewport.rows),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, last.cols, numItemsInViewport.cols, true)\n        };\n        isRangeChanged = newFirst.rows !== first.rows || newFirst.cols !== first.cols || newLast.rows !== last.rows || newLast.cols !== last.cols;\n        this.lastScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      } else {\n        var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n        var isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, itemSize);\n\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, first, last, numItemsInViewport, isScrollDownOrRight);\n\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, first, last, numItemsInViewport, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, last, numItemsInViewport);\n        isRangeChanged = newFirst !== first || newLast !== last;\n        this.lastScrollPos = scrollPos;\n      }\n\n      return {\n        first: newFirst,\n        last: newLast,\n        isRangeChanged: isRangeChanged\n      };\n    }\n  }, {\n    key: \"onScrollChange\",\n    value: function onScrollChange(event) {\n      var _this9 = this;\n\n      var _this$onScrollPositio = this.onScrollPositionChange(event),\n          first = _this$onScrollPositio.first,\n          last = _this$onScrollPositio.last,\n          isRangeChanged = _this$onScrollPositio.isRangeChanged;\n\n      if (isRangeChanged) {\n        var newState = {\n          first: first,\n          last: last\n        };\n        this.setContentPosition(newState);\n\n        if (this.props.lazy) {\n          this.props.onLazyLoad && this.props.onLazyLoad(newState);\n        }\n\n        this.setState(newState, function () {\n          _this9.props.onScrollIndexChange && _this9.props.onScrollIndexChange(newState);\n        });\n      }\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll(event) {\n      var _this10 = this;\n\n      this.props.onScroll && this.props.onScroll(event);\n\n      if (this.props.delay) {\n        if (this.scrollTimeout) {\n          clearTimeout(this.scrollTimeout);\n        }\n\n        if (!this.state.loading && this.props.showLoader) {\n          var _this$onScrollPositio2 = this.onScrollPositionChange(event),\n              changed = _this$onScrollPositio2.isRangeChanged;\n\n          changed && this.setState({\n            loading: true\n          });\n        }\n\n        this.scrollTimeout = setTimeout(function () {\n          _this10.onScrollChange(event);\n\n          if (_this10.state.loading && _this10.props.showLoader && !_this10.props.lazy) {\n            _this10.setState({\n              loading: false\n            });\n          }\n        }, this.props.delay);\n      } else {\n        this.onScrollChange(event);\n      }\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions(index, count) {\n      return {\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      };\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.setSize();\n      this.calculateOptions();\n      this.setSpacerSize();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.itemSize !== this.props.itemSize || !prevProps.items || prevProps.items.length !== (this.props.items || []).length) {\n        this.init();\n      }\n\n      if (this.props.lazy && prevProps.loading !== this.props.loading && this.state.loading !== this.props.loading) {\n        this.setState({\n          loading: this.props.loading\n        });\n      }\n\n      if (prevProps.orientation !== this.props.orientation) {\n        this.lastScrollPos = this.isBoth() ? {\n          top: 0,\n          left: 0\n        } : 0;\n      }\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item, index, count, passedItem) {\n      var options = this.getOptions(index, count);\n      var content = ObjectUtils.getJSXElement(this.props.itemTemplate, passedItem || item, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, content);\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this11 = this;\n\n      var items = this.props.items;\n\n      if (items && !this.state.loading) {\n        var isBoth = this.isBoth();\n        var _this$state3 = this.state,\n            first = _this$state3.first,\n            last = _this$state3.last;\n        var count = items.length;\n\n        if (isBoth) {\n          return items.slice(first.rows, last.rows).map(function (item, i) {\n            var items = item.slice(first.cols, last.cols);\n            var index = first.rows + i;\n            return _this11.renderItem(item, index, count, items);\n          });\n        } else {\n          return items.slice(first, last).map(function (item, i) {\n            var index = first + i;\n            return _this11.renderItem(item, index, count);\n          });\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderLoaderItem\",\n    value: function renderLoaderItem(index, count, extOptions) {\n      var options = _objectSpread(_objectSpread({}, this.getOptions(index, count)), extOptions || {});\n\n      var content = ObjectUtils.getJSXElement(this.props.loadingTemplate, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, content);\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var _this12 = this;\n\n      if (this.state.loading) {\n        var className = classNames('p-virtualscroller-loader', {\n          'p-component-overlay': !this.props.loadingTemplate\n        });\n        var content = /*#__PURE__*/React.createElement(\"i\", {\n          className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n        });\n\n        if (this.props.loadingTemplate) {\n          var isBoth = this.isBoth();\n          var numItemsInViewport = this.state.numItemsInViewport;\n          var length = isBoth ? numItemsInViewport.rows : numItemsInViewport;\n          content = this.state.loaderArr.map(function (_, index) {\n            return _this12.renderLoaderItem(index, length, isBoth && {\n              numCols: numItemsInViewport.cols\n            });\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: className\n        }, content);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this13 = this;\n\n      var items = this.renderItems();\n      var content = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-virtualscroller-content\",\n        ref: function ref(el) {\n          return _this13.content = el;\n        }\n      }, items);\n\n      if (this.props.contentTemplate) {\n        var _this$state4 = this.state,\n            loading = _this$state4.loading,\n            first = _this$state4.first,\n            last = _this$state4.last;\n        var defaultOptions = {\n          className: 'p-virtualscroller-content',\n          ref: function ref(el) {\n            return _this13.content = el;\n          },\n          children: items,\n          element: content,\n          props: this.props,\n          loading: loading,\n          first: first,\n          last: last\n        };\n        return ObjectUtils.getJSXElement(this.props.contentTemplate, defaultOptions);\n      }\n\n      return content;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this14 = this;\n\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var className = classNames('p-virtualscroller', {\n        'p-both-scroll': isBoth,\n        'p-horizontal-scroll': isHorizontal\n      }, this.props.className);\n      var loader = this.renderLoader();\n      var content = this.renderContent();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(el) {\n          return _this14.element = el;\n        },\n        className: className,\n        tabIndex: 0,\n        style: this.props.style,\n        onScroll: this.onScroll\n      }, content, /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(el) {\n          return _this14.spacer = el;\n        },\n        className: \"p-virtualscroller-spacer\"\n      }), loader);\n    }\n  }]);\n\n  return VirtualScroller;\n}(Component);\n\n_defineProperty(VirtualScroller, \"defaultProps\", {\n  id: null,\n  style: null,\n  className: null,\n  items: null,\n  itemSize: 0,\n  scrollHeight: null,\n  scrollWidth: null,\n  orientation: 'vertical',\n  numToleratedItems: null,\n  delay: 0,\n  lazy: false,\n  showLoader: false,\n  loadingTemplate: null,\n  itemTemplate: null,\n  contentTemplate: null,\n  onScroll: null,\n  onScrollIndexChange: null,\n  onLazyLoad: null\n});\n\nexport { VirtualScroller };\n"]},"metadata":{},"sourceType":"module"}